\chapter{\codeblocks Projektverwaltung}

Die Dokumentation für \pxref{sec:variables_types} und \pxref{sec:build_codeblocks} sind offizielle Dokumentationen der \codeblocks Wiki-Seite und nur in englischer Sprache verfügbar.

Die nachfolgende Abbildung zeigt den Aufbau der \codeblocks Oberfläche.

\figures[H][width=\columnwidth]{codeblocks}{IDE \codeblocks}

\begin{description}
\item[Management] Diese Fenster enthält die Ansicht \menu{Projects}, im nachfolgenden als Projektansicht bezeichnet. In dieser werden die in \codeblocks aktuell geöffneten Projekte angezeigt. In dem Management Fenster erhält man im Reiter \samp{Symbols} die Anzeige von Symbolen, Variablen etc.
\item[Editor] In der obigen Abbildung ist eine Quelle \file{hello.c} mit Syntaxhighlighting im Editor geöffnet.
\item[Open files list] Zeigt die Liste der im Editor geöffneten Dateien an, hier \file{hello.c}.
\item[CodeSnippets] Lässt sich über das Menü \menu{View,CodeSnippets} anzeigen. Hier können Textbausteine, Verknüpfungen auf Dateien und Urls verwaltet werden.
\item[Logs \& others] Fenster zur Ausgabe von Suchergebnisse, Logmeldung eines Compilers etc.
\end{description}

Die Statusbar gibt einen Überblick der folgenden Einstellungen:

\begin{itemize}
\item Vollständiger Pfad einer im Editor angezeigten Datei.
\item Im Editor wird das vom Betriebssystem standardmäßig verwendete Character Encoding übernommen und mit der Einstellung \codeline{default} angezeigt.
\item Aktuelle Zeilen- und Spaltnummer der Cursorposition im Editor.
\item Über die Tastatur eingestellte Modus für das Einfügen von Text (Insert oder Overwrite).
\item Aktuelle Status einer Datei. Für eine geänderte Datei steht der Eintrag auf \codeline{Modified} ansonsten ist dieser Eintrag leer.
\item Die für eine Datei eingestellte Berechtigung. Eine schreibgeschützte Datei wird als \codeline{Read only} in der Statusbar gekennzeichnet. Im Fenster \menu{Open files list} werden solche mit einem Schloss als Icon Overlay markiert.

\hint{Im aktiven Editor kann über das Kontextmenü Properties im Reiter \menu{General} die Option \menu{File is read-only} aktiviert werden. Dies bewirkt das die Datei nur innerhalb \codeblocks schreibgeschützt ist, jedoch bleibt die Lese- und Schreibberechtigung auf der Festplatte unverändert.}

\item Falls \codeblocks mit der Kommandozeilenoption \opt{--personality=\var{profile}} gestartet wird, steht in der Statusbar das aktuell verwendete Profil, ansonsten wird hier \codeline{default} angezeigt. Die Einstellungen von \codeblocks werden in der gleichnamigen Konfigurationsdatei \file{\var{personality}.conf} gespeichert.
\end{itemize}

\codeblocks bietet eine sehr flexible und umfassende Projektverwaltung. Der folgende Text geht nur auf einige Besonderheiten der Projektverwaltung ein.

\section{Projektansicht}\label{sec:categories}

In \codeblocks werden Quellen und die Einstellungen für den Builtprozess in einer Projektdatei \file{\var{name}.cbp} gespeichert. Ein Projekt besteht typischerweise aus C/C++ Quellen und zugehörige Header Dateien. Ein neues Projekt legen Sie am einfachsten an, indem Sie das Menü \menu{File,Project} ausführen und einen Wizard auswählen. Anschließend können Sie im Management Fenster über das Kontextmenü \menu{Add files} Dateien zum Projekt hinzufügen. In \codeblocks werden die Projektdateien abhängig von ihrer Dateiendung in Kategorien verwalten. Die voreingestellen Kategorien sind für

\begin{description}
\item[Sources] Unter der Kategorie \file{Sources} werden Quellen z.B. mit den Endungen \file{*.c;*.cpp;} aufgelistet.
\item[ASM Sources] Unter der Kategorie \file{ASM Sources} werden Quellen z.B. mit den Endungen \file{*.s;*.S;*.ss;*.asm} aufgelistet.
\item[Headers] Unter der Kategorie \file{Headers} werden Dateien z.B. mit den Endungen \file{*.h;} angezeigt.
\item[Resources] Unter der Kategorie \file{Resources} werden z.B. Dateien \file{*.res;*.xrc;} für die Beschreibung von Layout von wxWidgets Fenster gelistet. Für die Anzeigen dieser Dateitypen dient im Manangement Fenster der Reiter \samp{Resources}.
\end{description}

Die Einstellungen für Typen und Kategorien von Dateien können über das Kontextmenü \menu{Project tree,Edit file types \& categories} angepasst werden. Dabei können auch eigene Kategorien für Dateiendungen angelegt werden. Wenn Sie z.B. Linkerskripte mit der Endung \file{*.ld} unter der Kategorie \file{Linkerscript} anzeigen möchten, legen Sie einfach eine neue Kategorie an.

\hint{Wenn Sie im Kontextmenü \menu{Project tree,Categorize by file types} deaktivieren, wird die Anzeige in Kategorien aufgehoben und die Dateien erscheinen wie sie im Dateisystem abgelegt sind.}

\section{Notizen für Projekte}

In \codeblocks können zu Projekten sogenannte Notes hinterlegt werden. Diese sollten eine Kurzbeschreibung oder Hinweise für das jeweilige Projekt enthalten. Durch Anzeige dieser Information beim Öffnen des Projektes bekommen andere Bearbeiter einen schnellen Überblick. Die Anzeige von Notes kann bei den Properties eines Projektes im Reiter Notes aktiviert bzw. deaktiviert werden.

\section{Projektvorlagen}

\codeblocks wird mit einer Vielzahl von Projektvorlagen ausgeliefert, die beim Anlegen eines neuen Projektes angezeigt werden. Es ist aber auch möglich, eigene Vorlagen zu speichern und somit eigene Vorgaben für Compilerschalter, wie zu verwendete Optimierung, maschinenspezifische Schalter etc. in Vorlagen zusammenzufassen. Diese werden im Verzeichnis \file{Dokumente und Einstellungen\osp \var{user}\osp Anwendungsdaten\osp codeblocks\osp UserTemplates} abgelegt. Wenn die Vorlagen für alle Benutzer zugänglich sein sollen, müssen die Vorlagen in zugehöriges Verzeichnis der \codeblocks Installation kopiert werden. Diese Vorlagen erscheinen dann beim nächsten Start von \codeblocks unter \menu{New, Project,User templates}.

\hint{Die verfügbaren Vorlagen im Project Wizard können durch Auswahl mit der rechten Maustaste bearbeitet werden.}

\section{Projekte aus Build Targets erstellen}

In Projekten ist es notwendig unterschiedliche Varianten eines Projektes vorzuhalten. Varianten werden als Build Target bezeichnet. Diese unterscheiden sich in der Regel durch unterschiedliche Compileroptionen, Debug-Information und Auswahl von Dateien. Ein Build Target kann auch in ein eigenständiges Projekt ausgelagert werden, dafür selektieren Sie in \menu{Project,Properties} den Reiter \samp{Build Targets} die Variante und wählen Sie Schaltfläche \samp{Create project from target} (siehe \pxref{fig:build_targets}).

\screenshot{build_targets}{Build Targets}

\section{Virtual Targets}

Mit sogenannten Virtual Targets können Projekte in \codeblocks weiter strukturiert werden. Eine häufige Projektstruktur besteht aus zwei Build Targets. Einem Target \menu{Debug} mit Debuginformation und einem anderen Target \samp{Release} ohne diese Information. Durch Hinzufügen von Virtual Targets unter \menu{Project,Properties,Build Targets} können einzelne Build Targets zusammengefasst werden. So kann zum Beispiel ein Virtual Target \samp{All} die Targets Debug und Release gleichzeitig erzeugen. Die Virtual Targets werden auch in der Symbolleiste des Compilers unter Build Targets angezeigt.

\section{Pre- und Postbuild Schritte}\label{sec:pre_postbuild}

\codeblocks ermöglicht es, weitere Arbeitschritte vor oder nach der Compilierung eines Projektes durchzuführen. Die Arbeitsschritte werden als Prebuilt bzw. Postbuilt Step bezeichnet. Typische Postbuilt Steps sind:

\begin{itemize}
\item Erzeugung eines Intel Hexformats aus einem fertigen Objekt
\item Manipulation von Objekten mit \cmdline{objcopy}
\item Generierung von Dumpdateien mit \cmdline{objdump}
\end{itemize}

\genterm{Beispiel}

Erzeugung einer Disassembly aus einem Objekt unter Windows. Die Umlenkung in eine Datei erfordert den Aufruf der \cmdline{cmd} mit der Option \opt{/c}.

\begin{cmd}
cmd /c objdump -D name.elf > name.dis
\end{cmd}

Ein weiteres Beispiel für ein Postbuilt Step kann die Archivierung eines Projektes sein. Hierzu erstellen Sie ein Build Target \samp{Archive} und tragen im Postbuilt Step folgende Anweisung ein

\begin{cmd}
zip -j9 $(PROJECT_NAME)_$(TODAY).zip src h obj $(PROJECT_NAME).cbp
\end{cmd}

Mit diesem Befehl wird das aktive Projekt und seine Quellen, Header und Objekte als Zip-Datei gepackt. Dabei werden über die Built-in Variablen \codeline{$(PROJECT_NAME)} und \codeline{$(TODAY)}, der Projektname und das aktuelle Datum extrahiert (siehe \pxref{sec:builtin_variables}). Im Verzeichnis des Projektes liegt dann nach Ausführen des Targets \samp{Archive} die gepackte Datei.

In dem Verzeichnis \file{share/codeblocks/scripts} finden Sie einige Beispiele für Skripte. Ein Skript kann über das Menü \menu{Settings,Scripting} hinzugefügt und in ein Menü eingetragen werden. Wenn Sie ein Skript z.B. \file{make\_dist} über ein Menü ausführen, werden alle Dateien, die zum einem aktiven Projekt gehören in ein Archiv \file{\var{project}.tar.gz} komprimiert.

\section{Hinzufügen von Scripts in Build Targets}

\codeblocks bieten die Möglichkeit, Aktionen die vom Benutzer in Menüs ausgeführt werden, auch in Skripten zu verwenden. Mit dem Skript entsteht somit ein zusätzlicher Freiheitsgrad um die Generierung Ihres Projektes zu steuern.

\hint{Ein Skript kann auch bei einem Build Target angegeben werden.}

\section{Workspace und Project Dependencies}

In \codeblocks können Sie mehrere Projekte geöffnet halten. Durch speichern der geöffneten Projekte über \menu{File,Save workspace} werden diese in einem Arbeitsbereich unter \file{\var{name}.workspace} zusammengefasst. Wenn Sie beim nächsten Start von \codeblocks den Arbeitsbereich \file{\var{name}.workspace} öffnen erscheinen wieder alle Projekte.

Komplexe Softwaresysteme bestehen aus Komponenten, die in unterschiedlichen \codeblocks Projekten verwaltet werden. Des weiteren existieren bei der Generierung von solchen Softwaresystemen oftmals Abhängigkeiten zwischen diesen Projekten.

\genterm{Beispiel}

Ein Projekt A enthält zentrale Funktionen, die auch anderen Projekten in Form einer Bibliothek zugänglich gemacht werden. Wenn nun diese Quellen eines Projektes geändert werden, muss die Bibliothek neu erzeugt werden. Damit die Konsistenz zwischen einem Projekt B, das die Funktionen verwendet und dem Projekt A, das die Funktionen implementiert, gewahrt bleibt, muss Projekt B von Projekt A abhängen. Die Information für die Abhängigkeit von Projekten wird im jeweiligen Workspace gespeichert, damit jedes Projekt weiterhin einzeln erzeugt werden kann. Durch die Verwendung von Abhängigkeiten kann auch die Reihenfolge bei der Generierung von Projekten gesteuert werden. Die Abhängigkeiten für Projekte werden über den Menüeintrag \menu{Project,Properties} und Auswahl der Schaltfläche \samp{Project's dependencies} gesetzt.

\section{Einbinden von Assembler Dateien}

In der Projektansicht (Project View) im Fenter Management werden Assembler Dateien im Kategorie \file{ASM Sources} aufgeführt. Die Anzeige von Dateien und Kategorien kann vom Benutzer festgelegt werden (siehe \pxref{sec:categories}). Durch einen Rechtsklick einer der gelisteten Assembler Dateien erhält man ein Kontextmenü. Darin öffnet der Befehl \menu{Properties} ein neues Fenster. Klicken Sie darin auf den Reiter \samp{Build} und aktivieren Sie die beiden Felder \samp{Compile file} und \samp{Link file}. Wechseln Sie nun auf den Reiter \samp{Advanced} und führen Sie folgende Schritte durch:

\begin{enumerate}
\item \samp{Compiler variable} auf CC setzen
\item Den Compiler unter \samp{For this compiler} auswählen
\item \samp{Use custom command to build this file} anwählen
\item Inhalt im Fenster eingeben:
\begin{code}
$compiler $options $includes <asopts> -c $file -o $object
\end{code}
\end{enumerate}

Dabei sind die \codeblocks Variablen durch \codeline{$} gekennzeichnet (siehe \pxref{sec:command_macros}). Diese werden automatisch ersetzt, so dass Sie lediglich die Assembleroption \var{asopt} durch Ihre Einstellungen ersetzen brauchen.

\section{Editor und Hilfsmittel}

\subsection{Default Code}

Durch vorgegebene Coding Rules im Unternehmen müssen Quelldateien einen einheitlichen Aufbau vorweisen. \codeblocks bietet die Möglichkeit, beim Anlegen von neuen C/C++ Quellen und Header einen vorgegebenen Inhalt am Anfang einer Datei automatisiert einzufügen. Die vorgebene Inhalt wird als Default Code bezeichnet. Die Einstellung hierfür kann unter \menu{Stettings,Editor} Default Code vorgenommen werden. Wenn eine neue Datei angelegt wird, dann wird eine Makroauflösung von Variablen, die zum Beispiel über das Menü \menu{Settings,Global variables} definiert wurden, durchgeführt. Eine neue Datei erzeugen Sie über das Menü \menu{File,New,File}.

\genterm{Beispiel}

\begin{code}
/*************************************************************************
 *  Project: $(project)
 *  Function:
 *************************************************************************
 *  $Author: mario $
 *  $Name:  $
 *************************************************************************
 *
 *  Copyright 2007 by company name
 *
 ************************************************************************/
\end{code}

\subsection{Abbreviation}\label{sec:abbreviation}

Durch Definition von Abkürzung in \codeblocks kann einiges an Schreibarbeit und Zeit gespart werden. Hierzu werden in \menu{Settings,Editor} sogenannte Abbreviations unter dem Namen \var{name} angelegt, die über das Tastenkürzel Ctrl-J aufgerufen werden (siehe \pxref{fig:abbreviation}).

\screenshot{abbreviation}{Definition von Abkürzungen}

Durch Einfügen von Variablen \codeline{$(NAME}) in den Abkürzungen ist auch eine Parametrisierung möglich.

\begin{code}
#ifndef $(Guard token)
#define $(Guard token)
#endif // $(Guard token)
\end{code}

Bei Aufruf der Abkürzung \var{name} im Quelltext und Ausführen von Ctrl-J, wird der Inhalt der Variablen abgefragt und eingefügt.

%Inherit Class
%Im Editor kann durch Auswahl von Inherit Class über die rechte Maustaste.

\subsection{Personalities}\label{sec:personalities}

\codeblocks Einstellungen werden als Anwendungsdaten im Verzeichnis \file{codeblocks} in einer Datei \file{\var{user}.conf} gespeichert. Diese Konfigurationsdatei enthält Informationen wie beispielsweise zuletzt geöffnete Projekte, Einstellungen für Editor, Anzeige von Symbolleisten etc. Standardmäßig ist die Personality \samp{default} eingestellt, so dass die Konfiguration in der Datei \file{default.conf} abgelegt ist. Wenn \codeblocks mit dem Parameter \cmdline{--personality=myuser} in der Kommandozeile aufgerufen wird, werden die Einstellungen in der Datei \file{myuser.conf} gespeichert. Falls das Profil nicht bereits existiert, wird es automatisch angelegt. Durch diese Vorgehensweise können für unterschiedliche durchzuführende Arbeitsschritte auch zugehörige Profile gespeichert werden. Wenn Sie \codeblocks mit dem zusätzlichen Parameter \cmdline{--personality=ask} starten erscheint ein Auswahldialog für die verfügbaren Profile.

\hint{Der Name des aktuell verwendeten Profils/Personality wird rechts in der Statusbar angezeigt.}

\subsection{Konfigurationsdateien}

Die Einstellungen für \codeblocks werden im Profil \file{default.conf} im Ordner \file{codeblocks} in Ihren Anwendungsdaten gespeichert. Bei Verwendung von personalities (siehe \pxref{sec:personalities} werden die Konfiguration in der Datei \file{\var{personality}.conf} abgelegt.

Mit dem Werkzeug \cmdline{cb\_share\_conf}, aus dem \codeblocks Installationsverzeichnis, können diese Einstellungen verwaltet und gesichert werden.

Falls Sie Standardeinstellung für mehrere Benutzer eines PCs vorgeben möchten, muss die Konfigurationsdatei \file{default.conf} im Ordner \file{\osp Dokumente und Einstellungen\osp Default User\osp Anwendungsdaten\osp codeblocks} abgelegt sein. Beim ersten Start von \codeblocks werden die Voreinstellungen aus \samp{Default User} in die Anwendungsdaten der aktuellen Benutzers kopiert.

Zur Erzeugung einer portablen Version von \codeblocks auf einem USB-Stick gehen Sie wie folgt vor. Kopieren Sie die \codeblocks Installation auf einen USB-Stick und legen Sie die Konfigurationsdatei \file{default.conf} in dieses Verzeichnis. Die Konfiguration wird als globale Einstellung verwendet. Bitte achten Sie darauf, dass die Datei schreibbar sein muss, damit Änderungen in der Konfiguration auch gespeichert werden können.

\subsection{Navigieren und Suchen}

In \codeblocks existieren unterschiedliche Möglichkeiten zum schnellen Navigieren zwischen Dateien und Funktionen. Eine typische Vorgehensweise ist das Setzen von Lesezeichen (Bookmarks). Durch Betätigen des Tastenkürzel (Ctrl-B) wird ein Lesezeichen in einer Quelldatei gesetzt bzw. gelöscht. Mit (Alt-PgUp) wird zum vorherigen Lesezeichen gesprungen und mit (Alt-PgDn) zum nächsten gewechselt.

In der Projektansicht können Sie durch Auswählen eines Projektes oder im gesamten Workspace über das Kontextmenü \menu{Find file} in einem Dialog einen Dateinamen angeben. Dieser wird anschließend in der Projektansicht markiert und durch Eingabe mit Return im Editor geöffnet (siehe \pxref{fig:project_find_file}).

\screenshot[][width=.5\columnwidth]{project_find_file}{Suche nach Dateien}

Für das schnelle Navigieren zwischen Header/Quelle Dateien bietet \codeblocks folgende Möglichkeiten

\begin{enumerate}
\item Cursor auf Zeile setzen wo Header includiert wird und über Kontextmenü \menu{open include file} öffnen (siehe \pxref{fig:open_header})
\item Umschalten zwischen Quelle und Header über Kontextmenü \menu{Swap header/source}
\item Markieren eines Begriffes z.B. eines Defines in einer Datei und Aufruf des Kontextmenü \menu{Find declaration}
\end{enumerate}

\screenshot{open_header}{Öffnen einer Header Datei}

\codeblocks bietet verschiedene Möglichkeiten für die Suche in einer Datei oder in Verzeichnissen. Mit dem \menu{Search,Find} (Ctrl-F) oder \menu{Find in Files} (Ctrl-Shift-F) öffnet sich der Dialog für die Suche.

Eine weitere komfortable Funktion bietet das Tastenkürzel Alt-G und Ctrl-Alt-G. Der sich öffnende Dialog erlaubt die Auswahl von Dateien/Funktionen und springt anschließend an die Implementierung der Funktion (siehe \pxref{fig:select_function}) bzw. öffnete die ausgewählte Datei. Als Eingabe werden auf Wildcards \codeline{*} oder \codeline{?} etc. für eine inkrementelle Suche unterstützt.

\screenshot[!hbt][width=.5\columnwidth]{select_function}{Suche nach Funktionen}

\hint{Mit dem Tastenkürzel Ctrl-PAGEUP springen Sie an die vorherige Funktion und mit Ctrl-PAGEDOWN zur nächsten Funktion.}

Wenn Sie sich im Editor Fenster befinden, öffnet sich mit Ctrl-Tab ein zusätzliches Open Files Dialog und es kann zwischen den Einträgen der zu öffnenden Dateien gewechselt werden. Bei gedrückter Ctrl-Taste kann eine  Auswahl auf unterschiedliche Weise erfolgen:

\begin{enumerate}
\item Mit der linken Maustaste einen Eintrag anklicken und es öffnet sich die Datei.
\item Betätigen der Tab-Taste wechselt zwischen den Einträgen. Durch Loslassen der Ctrl-Taste wird die ausgewählte Datei geöffnet.
\item Wenn die Maus über die Einträge bewegt werden, dann erscheint die aktuelle Auswahl farblich hervorgehoben. Beim Loslassen wird die ausgewählte Datei geöffnet.
\item Wenn der Mauszeiger außerhalb der farblich Hervorhebung steht, dann kann über das Mausrad eine Auswahl getroffen werden. Beim Loslassen der Crtl-Taste wird die ausgewählte Datei geöffnet.
\end{enumerate}

Eine häufige Arbeitsweise bei der Entwicklung von Software ist jedoch, dass man sich durch ein Satz von Funktion hangelt, die in unterschiedlichen Dateien implementiert sind. Durch das Plugin Browse Tracker zeigt mit dem Fenster \samp{Browsed Tabs} eine Liste in der Reihenfolge wie Dateien selektiert wurden. Somit können Sie komfortabel zwischen den Aufrufen navigieren (siehe \pxref{sec:browsetracker}).

In \codeblocks aktivieren Sie die Anzeige von Zeilennummern in \menu{Settings,General Settings} im Feld \samp{Show line numbers}. Mit dem Tastenkürzel Ctrl-G oder über das Menü \menu{Search,Goto line} springen Sie an die gewünschte Zeile.

\hint{Sie können auch im Editor einen Begriff mit gedrückter Ctrl Taste markieren und dann über das Kontextmenü nach diesem Begriff z.B. in Goolge suchen.}

\subsection{Symbolansicht}

Für das Navigieren über Funktionen oder Variablen bietet das Management Fenster in \codeblocks eine Baumansicht für Symbole von C/C++ Quellen. Dabei lässt sicht der Gültigkeitsbereich (Scope) der Ansicht auf die aktuelle Datei oder Projekt oder den gesamten Arbeitsbereich einstellen.

\hint{Wenn Sie einen Suchbegriff bzw. Symbolnamen in die Eingabemaske Search des Symbol Browsers eingeben, erhalten Sie, bei vorhandenen Suchtreffern, eine gefilterte Ansicht von Symbolen.}

Für die Kategorien der Symbole existieren folgende Kategorien.

\begin{description}
\item[Global functions] Listet die Implementierung von globalen Funktionen.
\item[Global typedefs] Listet die Verwendung von \codeline{typedef} Definitionen.
\item[Global variables] Zeigt die Symbole von globalen Variablen an.
\item[Preprocessor symbols] Auflistung der mit \codeline{#define} erzeugten Präprozessor Direktiven.
\item[Global macros] Listet Makros von Präprozessor Direktiven auf.
\end{description}

\figures[H][width=.3\columnwidth]{symbols}{Symbolansicht}

Strukturen und Klassen werden unterhalb im \menu{bottom tree} angezeigt und die Sortierung kann über das Kontextmenü geändert werden. Wenn eine Kategorie mit der Maus angewählt wird, erscheinen die gefundenen Symbole in dem unteren Teil des Fensters (siehe \pxref{fig:symbols}). Ein Doppelklick auf das Symbol öffnet die Datei, wo das Symbol definiert bzw. die Funktion implementiert ist und springt an die zugehörige Zeile. Die Symbolansicht wird beim Speichern einer Datei aktualisiert. Eine Auto-Refresh des Symbolbrowsers ohne Speichern ist über das Menü \menu{Settings,Editor,Code Completion} aktivierbar (siehe \pxref{fig:cc_realtime_parsing}). Bei Projekten mit vielen Symbolen wird die Performance innerhalb \codeblocks beeinträchtgt.

\screenshot{cc_realtime_parsing}{Aktivieren von Echtzeit-Parsing}

\hint{Im Editor können Sie über das Kontextmenü \menu{Insert Class method declaration implementation} bzw. \menu{All class methods without implementation} sich auch die Liste der Klassen anzeigen lassen.}

\subsection{Einbinden von externen Hilfen}

Die Entwicklungsumgebung \codeblocks unterstützt das Einbinden von externen Hilfen über das Menü \menu{Settings,Environment}. Fügen Sie ein Manual Ihrer Wahl im chm Format in \menu{Help Files} hinzu und wählen Sie die Einstellung \samp{this is the default help file} (siehe \pxref{fig:help_files}). Dabei steht im Eintrag \codeline{$(keyword)} als Platzhalter für einen Begriff der im Editor markiert wird.  Nun können Sie in \codeblocks in einer geöffneten Quelldatei eine Funktion mit der Maus durch Doppelklick markieren und anschließend die Hilfe mit F1 aufrufen und erhalten die zugehörige Dokumentation.

Wenn Sie mehrere Hilfedateien einbinden, können Sie im Editor einen Begriff markieren und anschließend über das Kontextmenü \menu{Locate in} die Hilfedatei auswählen, in der \codeblocks suchen soll.

\screenshot{help_files}{Einstellungen für Hilfe}

In \codeblocks werden auch die Hilfe mit man pages unterstützt. Hier fügen Sie einen neuen Eintrag \menu{man} ein und geben den Pfad wie folgt an.

\begin{cmd}
man:/usr/share/man
\end{cmd}

\codeblocks bietet auch einen \samp{Embedded HTML Viewer}, hiermit können  einfache HTML-Dateien in \codeblocks angezeigt und für Suchen genutzt werden. Konfigurieren Sie einfach den Pfad der HTML-Datei, die durchsucht werden soll und aktivieren Sie die Option \menu{Open this file with embedded help viewer} in dem Menü \menu{Settings,Environment,Help Files}.

\screenshot{embedded_html_viewer}{Embedded HTML Viewer}

\hint{Wenn Sie eine HTML-Datei im File Explorer mit einem Doppelklick öffnen (siehe \pxref{sec:file_explorer}) dann wird der Embedded Html Viewer gestartet, solange für HTML Dateien keine  andere Zuordnung im file extension handler vorgenommen wurde.}
% \section{Scripting}
%
% \codeblocks in Console Modus - Scripts

\subsection{Einbinden von externen Werkzeugen}

Die Einbindung von externen Tools ist in \codeblocks unter dem Menüeintrag \menu{Tools,Configure Tools,Add} vorgesehen. Für die Übergabeparameter der Tools kann auch auf Built-in Variables (see \pxref{sec:builtin_variables}) zugegriffen werden. Des weiteren existieren für das Starten von externen Anwendungen unterschiedliche Arten (Launching options). Je nach Option werden die extern gestarteten Anwendung beim Beenden von \codeblocks gestoppt. Falls die Anwendungen auch beim Beenden von \codeblocks geöffnet bleiben sollen, ist die Option \menu{Launch tool visible detached} einzustellen.

\section{Tips zum Arbeiten mit \codeblocks}

In diesem Kapitel werden Ihnen einige nützliche Einstellungen in \codeblocks vorgestellt.

\subsection{Änderungen im Editor verfolgen}

\codeblocks bietet die Möglichkeit geänderte Stellen eines Quellcodes im Vergleich zu einer Vorversion mit Hilfe von seitlich angebrachten Revisionsbalken automatisch sichtbar zu machen. Dabei werden Änderungen mit einem gelben Balken und gespeicherte Änderungen mit einem grünen Balken dargestellt (siehe \pxref{fig:changebar}). Das Navigieren zwischen den einzelnen Änderungen ist über das Menü \menu{Search,Goto next changed line} oder \menu{Search,Goto previous changed line} möglich. Standardmäßig sind hierfür die Tastenkürzel Ctrl-F3 und Ctrl-Shift-F3 konfiguriert.

\screenshot{changebar}{Verfolgen von Änderungen}

Diese Feature kann unter \menu{Settings,Editor,Margins and caret} mit der Checkbox \menu{Use Changebar} aktiviert bzw. deaktiviert werden.

\hint{Wenn eine geänderte Datei geschlossen wird, geht die Änderungsinformation für Undo/Redo und die Revisionsbalken verloren. Über das Menü \menu{Edit,Clear changes history} oder das zugehörige Kontextmenü kann auch bei geöffneter Datei die Änderungshistorie gelöscht werden.}

\subsection{Datenaustausch mit anderen Anwendungen}

Zwischen \codeblocks und anderen Anwendungen können Daten dynamisch ausgetauscht werden. Diese Interprozess Kommuikation wird unter Windows auf DDE (Dynamic Data Exchange) und unter anderen Betriebssystemen auf eine TCP Kommunikation zwischen den Anwendungen abgebildet.

Über diese Schnittstelle können an \codeblocks Kommandos mit der folgenden Syntax weitergegeben werden.

\begin{code}
[<command>("<parameter>")]
\end{code}

Als Kommandos stehen zur Verfügung:

\begin{codeentry}
\item[Open] Mit dem folgenden Kommando

\begin{code}
[Open("d:\temp\test.txt")]
\end{code}

wird der Parameter, hier die Datei mit absolutem Pfad, innerhalb einer \codeblocks Instanz geöffnet oder bei Bedarf eine erste Instanz gestartet.
\item[OpenLine] Das Kommando öffnet eine Datei mit spezifizierter Zeilennummer in einer \codeblocks Instanz. Diese Zeilennummer wird mit \codeline{:line} angegeben.

\begin{code}
[OpenLine("d:\temp\test.txt:10")]
\end{code}

\item[Raise] Setzt den Fokus auf die \codeblocks Instanz. Hier darf kein Parameter angegeben werden.
\end{codeentry}

\subsection{Konfiguration von Umgebungsvariablen}

Die Konfiguration für ein Betriebssystem wird durch sogenannte Umgebungsvariablen festgelegt. Zum Beispiel enthält die Umgebungsvariablen \codeline{PATH} den Pfad auf einen installierten Compiler. Das Betriebssystem geht diese Umgebungsvariable von vorne nach hinten durch, d.h. die Einträge am Ende werden als letztes durchsucht. Wenn nun unterschiedliche Versionen eines Compilers oder anderer Anwendungen installiert sind, können nun folgende Situationen auftreten:

\begin{itemize}
\item Die falsche Version einer Software wird aufgrufen
\item Installierte Softwarepakete stören sich gegenseitig
\end{itemize}

Es könnte zum Beispiel notwendig sein, dass für unterschiedliche Projekte unterschiedliche Versionen eines Compilers oder anderer Werkzeugen vorgeschrieben sind. Eine Möglichkeit ist die Umgebungsvariablen in der Systemsteuerung jeweils für ein Projekt zu ändern. Diese Vorgehensweise ist jedoch fehleranfällig und nicht flexibel. Für diese Anforderung bietet \codeblocks eine elegante Lösung. Es lassen sich hier unterschiedliche Konfigurationen von Umgebungsvariablen erstellen, die nur intern in \codeblocks verwendet werden. Zusätzlich kann zwischen diesen Konfiguration umgeschaltet werden. Die \pxref{fig:env_variables} zeigt den Eingabedialog, den Sie über das Menü \menu{Settings,Environment} und Auswahl von \samp{Environment Varibales} erhalten. Eine Konfiguration wird über die Schaltfläche \samp{Create} erzeugt. Die Übernahme der hinzugefügten Umgebungsvariablen erfolgt durch Bestätigen des OK Knopfes. Das Aktivieren einer Konfiguration erfolgt über den Knopf Set Now.

\screenshot{env_variables}{Umgebungsvariablen}

Der Zugriff und der Gültigkeitkeitbereich auf die hier erstellten Umgebungsvariablen ist auf \codeblocks begrenzt. Sie können diese Umgebungsvariablen wie auch andere \codeblocks Variablen über \codeline{$(NAME)} expandieren.

\hint{Eine Konfiguration von Umgebungsvariable lässt sich pro Projekt im Kontextmenü \menu{Properties} im Reiter \samp{EnvVars options} selektieren.}

\genterm{Beispiel}

Sie können die verwendete Umgebung in einem postbuild Step (siehe \pxref{sec:pre_postbuild}) in einer Datei \file{\var{project}.env} schreiben und zu Ihrem Projekt archivieren.

\begin{cmd}
cmd /c echo \%PATH\%  > project.env
\end{cmd}

oder unter Linux

\begin{cmd}
echo \$PATH > project.env
\end{cmd}

\subsection{Umschalten zwischen Perspektiven}

Abhängig von der Aufgabenstellung ist es sinnvoll unterschiedliche Konfigurationen oder Ansichten in \codeblocks zu haben und diese zu speichern. Standardmäßig werden die Einstellungen wie z.B. Anzeige von Symbolleisten, Layout etc. in der Konfigurationsdatei \file{default.conf} gespeichert. Durch die Verwendung der Kommandozeilenoption \opt{--personality=ask} beim Start von \codeblocks kann zwischen verschiedenen Einstellungen umgeschaltet werden. Neben dieser globalen Einstellung besteht jedoch häufig auch der Wunsch während einer Session zwischen Ansichten für Fenster und Symbolleisten zu wechseln. Zwei typische Szenarien sind z.B. das Editieren von Dateien oder das Debuggen eines Projektes. Damit der Anwender nicht ständig mit dem Öffnen und Schließen von Fenstern, Symbolleisten etc. beschäftigt ist, bietet \codeblocks einen Mechanismus um unterschiedliche Perspektiven zu speichern bzw. diese umzuschalten. Über das Menü \menu{View,Perspectives,Save current} und Eingabe eines Namens \var{name} wird eine Perspektive gespeichert. Über \menu{Settings,Editor,Keyboard shortcuts,View,Perspectives,\var{name}} kann ein Tastenkürzel hierfür angegeben werden. Durch diese Vorgehensweise können Sie nun einfach zwischen den Ansichten über Ihre Tastenkürzel wechseln.

\hint{Ein weiteres Anwendungsbeispiel ist das Editieren einer Datei im Full Screen Modus ohne Symbolleisten. Hierfür können Sie sich auch eine Perspektive z.B. \samp{Full} anlegen und ein Tastenkürzel vergeben.}

\subsection{Umschalten zwischen Projekten}

Wenn mehrere Projekte oder Dateien gleichzeitig geöffnet sind, so will der Benutzer häufig zwischen den Projekten und Dateien schnell wechseln können. \codeblocks stellt hierfür eine Reihe an Shortcuts zur Verfügung.

\begin{description}
\item[Alt-F5] Aktiviert vorheriges Projekt aus der Projektansicht.
\item[Alt-F6] Aktiviert nachfolgendes Projekt aus der Projektansicht.
\item[F11] Wechselt im Editor zwischen einer Quelldatei \file{\var{name}.cpp} und der zugehörigen Header Datei \file{\var{name}.h}
\end{description}

\subsection{Erweitere Einstellung für Compiler}

Beim Buildprozess eines Projektes werden die Ausgaben des Compilers in Fenster Messages im Reiter Build Log ausgegeben. Wenn Sie an detaillierten Information interessiert sind, kann die Ausgabe erweitert werden. Dazu wählen Sie unter \menu{Settings,Compiler and Debugger} im Reiter \samp{Other Settings}.

\screenshot{compiler_debugger}{Einstellung von Detailinformationen}

Achten Sie darauf, dass beim Eintrag Selected Compiler der gewünschte Compiler eingestellt ist. Die Einstellung \samp{Full command line} im Feld Compiler Logging gibt die vollständige Information im Build Log aus. Zusätzlich kann diese Ausgabe in eine HTML-Datei geloggt werden. Hierzu ist die Einstellung \samp{Save build log to HTML file when finished} erforderlich.
Des weiteren bietet \codeblocks eine Fortschrittsanzeige des Buildprozesses im Fenster Build Log. Diese aktivieren Sie mit dem Einstellung \samp{Display build progress bar}.

\subsection{Zoom im Editor}

\codeblocks bietet einen sehr leistungsfähigen Editor. Eine Besonderheit ist, dass Sie innerhalb einer geöffneten Datei die Darstellung vergrößern und verkleinern können. Wenn Sie eine Maus mit einem Scrollrad haben, halten Sie einfach die Ctrl-Taste gedrückt und scrollen im Editor über das Rad nach vorne oder hinten.

\hint{Mit dem Tastenkürzel Ctrl-Numepad-/ oder mit \menu{Edit,Special commands,Zoom,Reset} können Sie auf die ursprüngliche Schriftgröße umschalten.}

\subsection{Wrap Mode}

Für das Editieren von Textdateien z.B. \file{*.txt} innerhalb \codeblocks ist es nützlich den Eingabetext automatisch auf die Textbreite des Editorfensters in mehrere Zeilen umbrechen zu lassen. Diese Funktionalität wird \samp{Word wrap} genannt und diese lässt sich im Menü \menu{Settings,Editor,Other Options} und mit der Checkbox \menu{Word wrap} aktivieren. Durch die Home/Pos 1 Taste springt der Cursor an den Anfang und mit End/Ende an das Ende der umgebrochenen Zeilen. Durch die Einstellung \menu{Settings,Editor,Other Options} und dem Setzen von \menu{Home key always move to caret to first column} wird erreicht, dass die Home/Pos 1 bzw. End/Ende Taste der Cursor an den Zeilenanfang bzw. an das Ende der aktuellen Zeile springt. Falls jedoch ein Sprung des Cursors an den Zeilenanfang des Abschnitts gewünscht ist, muss stattdessen die Tastenkombination \menu{Atl-Home/Pos 1} gedrückt werden. Entsprechendes gilt für \menu{Alt-End/Ende}.

\subsection{Select Modes im Editor}

\codeblocks unterstützt im Editor verschiedene Modes für Selektion und Einfügen von Text. 

\begin{enumerate}
\item Mit der linken Maustaste kann ein Text innerhalb des Editors selektiert werden und dann die Maustaste gelöst werden. Nun kann der Benutzer mit dem Mausrad innerhalb des aktiven Editors scrollen und durch Betätigen der mittleren Maustaste, wird der ehemals selektierte Text an die aktuelle Cursorposition eingefügt. Dieses Verhalten funktioniert pro Datei und die Selektion kann als Zwischenablage pro Datei verstanden werden.
\item Durch Halten der \samp{ALT} Taste wird der Block-Select Modus aktiviert und ein Rechteck kann mit der linken Maustaste aufgezogen werden und dann kopiert bzw. eingefügt weden. Dies ist zum Beispiel nützlich, wenn nur einige Spalten eines Array markiert und kopiert werden sollen.
 \item Im Menü \menu{Settings,Editor,Margins und Caret} können sogenannte \menu{Virtual Spaces} aktiviert werden. Diese Option bewirkt, dass im Block Select Modus eine Auswahl auch innerhalb einer leeren Zeilen beginnen oder enden kann.
\item Im Menü  \menu{Settings,Editor,Margins und Caret} kann \menu{Multiple Selection} aktiviert werden. Bei gedrückter Crtl-Taste können dann mit der linken Maustaste mehrere Textpassagen im Editor selektiert werden. Die Selektionen können mit Ctrl-C bzw. Ctrl-X in der Zwischenablage hintereinander angehängt und mit Ctrl-V an die gewünschte Stelle eingefügt werden. Zudem kann im \menu{multiple Selection} Modus die Option \menu{Enable typing (and deleting)} aktiviert werden. Dies kann z.B. nützlich sein, wenn Sie an mehreren Stellen eine Präprozessor Direktive wie \codeline{#ifdef} einfügen wollen oder z.B. ein Text an mehreren Stellen überschreiben oder ersetzen wollen.
\end{enumerate}

\hint{Beachten Sie, dass die meisten Linux Fenstermanager diese Tastenkombination für das Verschieben von Fenster vordefinieren. Deshalb muss dieses Verhalten des Fenstermanager geändert werden, damit der Block select mode unter Linux funktioniert.}

\subsection{Code folding}

\codeblocks unterstützt ein sogenanntes Folding für Quellen. Hiermit lassen sich zum Beispiel Funktionen zusammenklappen. Ein Folding Punkt erkennen Sie im Editor als Minussymbol im linken Seitenrand. Hier wird auch der Beginn und das Ende eines Folding Punktes durch eine vertikale Linie gekennzeichnet. Wenn Sie mit der linken Maustaste auf das Minussymbol klicken wir der entsprechende Abschnitt eingekappt bzw. ausgeklappt. Sie können über das Menu \menu{Edit,Folding} einstellen wie eingeklappt werden soll. Im Editor wird ein eingeklappte Codestelle durch eine durchgehende horizontale Linie dargestellt.

\hint{Der Stil für das Folding und eine Grenze für die Folding-Tiefe kann im Menü \menu{Settings,Editor,Folding} geändert werden.}

Neben dem Folding für Funktionen kann die Funktionalität auch für Präprozessor Direktiven eingestellt werden. Aktivieren Sie hierfür die Option \samp{Fold preprocessor commands} im Menü \menu{Settings,Editor} unter dem Eintrag Folding.

Eine weitere Möglichkeit ist benutzerdefinierte Folding Punkte zu definieren, indem ein Kommentarzeichen durch eine geöffnete Klammer den Anfang und ein Kommentar mit schließender Klammer das Ende markiert.

\begin{code}
//{
code with user defined folding
//}
\end{code}

\hint{Bei eingeschaltetem Folding passiert es häufig, dass bei engem Seitenrand der Anwender anstatt die gewünschte Zeile zu markieren, den Folding point selektiert. In diesem Modus ist es deshalb ratsam die Zeilennummern im Editor einzublenden und dann mit der linken Maustaste in den linken Seitenrand neben der Anzeige der Zeilennummern eine oder mehrere Zeile zu markieren.}

\subsection{Auto complete}

\codeblocks parst beim Öffnen eines Projektes die \samp{Search directories} die für einen Compiler oder Projekt eingestellt wurden und die im Projekt befindlichen Quellen und Header. Des weiteren werden auch die Keywords der zugehörigen Lexerdateien geparst. Die aus dem Parsen gewonne Information über Symbole kann für die sogenannte Auto completion genutzt werden, wenn diese in den Einstellungen des Editors für \codeblocks aktiviert ist. Die Auto completion können Sie im Editor über das Tastenkürzel Ctrl-Space ausführen. Im Menü \menu{Settings,Editor,Syntax highlighting} können eigene keywords zum Lexer hinzugefügt werden.

\subsection{Find broken files}

Wenn eine Datei auf der Festplatte gelöscht wurde, jedoch in der Projektbeschreibung \file{\var{project}.cbp} noch enthalten ist, dann wir diese Datei als \samp{broken file} mit einem unterbrochenem Symbol in der Project View von \codeblocks angezeigt. Das Entfernen einer Datei sollte in der Projekt View mit dem Kontextmenü \menu{Remove file from project} vorgenommen werden.

Bei größeren Projekten mit vielen Unterordnern kann die Suchen nach \samp{broken files} sehr schwierig werden. \codeblocks bietet jedoch mit dem Plugin ThreadSearch (siehe \pxref{sec:thread_search}) eine einfache Lösung. Wenn Sie in ThreadSearch einen Suchbegriff eingeben und als Option \menu{Project files} oder \menu{Workspace files} wählen, wird ThreadSearch alle Dateien eines Projektes durchsuchen; falls ein \samp{broken file} im Projekt oder Workspace vorkommt, wird als Fehler diese Datei gemeldet.

\subsection{Einbinden von Bibliotheken}

In den Builtoption eines Projektes können Sie unter \samp{Linker Settings} im Eintrag \samp{Link libraries} über die Schaltfläche \samp{Add} verwendete Bibliotheken hinzufügen. Dabei können Sie entweder den absoluten Pfad zur Bibliothek durchsuchen oder nur den Namen ohne den Prefix \file{lib} und die Dateiendung angeben.

\genterm{Beispiel}

Für eine Bibliothek \file{\var{path}\osp libs\osp lib\var{name}.a} geben Sie einfach \file{\var{name}} an. Der Linker mit den jeweiligen Suchpfaden für die Bibliotheken bindet diese dann korrekt ein.

\hint{Eine weitere Möglichkeit wie Sie Bibliotheken einbinden können, beschreibt \pxref{sec:lib_finder}.}

\subsection{Linkreihenfolge von Objekten}

Beim Compilierung werden aus Quellen \file{name.c/cpp} werden Objekte \file{name.o} erzeugt. Der Linker bindet die einzelnen Objekten zu einer Anwendung \file{name.exe} oder für den Embedded Bereiche \file{name.elf}. In einigen Fällen ist es wünschenswert die Reihenfolge für das Binden von Objekten vorzugeben. In \codeblocks kann dies durch die Vergabe von sogenannten Prioritäten erzielt werden. Stellen Sie für eine Datei über das Kontextmenü \menu{Properties} im Reiter Build die Priorität ein. Dabei führt eine geringe Priorität des Objekts dazu, dass es zu erst gebunden wird.

\subsection{Autosave}

\codeblocks bietet die Möglichkeit Projekte und Quelldateien automatisch zu speichern bzw. eine Sicherungskopie anzulegen. Diese Funktionalität wird im Menü \menu{Settings,Environment,Autosave} eingestellt. Dabei sollte als \samp{Save to .save file} als Methode für das Erstellen einer Sicherungskopie eingestellt werden.

\subsection{Einstellen für Dateizuordnungen}\label{sec:file_extension}

In \codeblocks können Sie zwischen verschiedenen Arten der Behandlung von Dateiendungen wählen.  Die Einstellungen erhalten Sie über \menu{Settings,Files extension handling}.
Sie können entweder die von Windows zugeordneten Anwendungen (open it with the associated application) für entsprechende Dateiendungen verwenden oder für jede Dateiendungen die Einstellungen so ändern, dass entweder ein benutzerdefiniertes Programm (launch an external program) gestartet wird oder die Datei in Editor von \codeblocks geöffnet wird (open it inside Code::Blocks editor).

\hint{Wenn ein benutzerdefiniertes Programm für eine Dateiendung gewählt wird, sollte die Einstellung \samp{Disable Code::Blocks while the external programm is running} deaktiviert werden, da sonst beim Öffnen dieser Dateien \codeblocks beendet wird.}

\section{\codeblocks in der Kommandozeile}

Die IDE \codeblocks kann auch ohne grafische Oberfläche in der Kommandozeile ausgeführt werden. Dabei stehen unterschiedliche Schalter zur Verfügung um den Buildprozess eines Projektes zu steuern. Da \codeblocks somit skriptfähig ist, kann die Erzeugung von Exectutables in eigene Arbeitsabläufe integriert werden.

\begin{cmd}
codeblocks.exe /na /nd --no-splash-screen --built <name>.cbp --target='Release'
\end{cmd}

\begin{optentry}
\item[\var{filename}] Specifies the project \file{*.cbp} filename or workspace \file{*.workspace} filename. For instance, \var{filename} may be \file{project.cbp}. Place this argument at the end of the command line, just before the output redirection if there is any.
\item[--file=\var{filename}\optional{:line}] Open file in Code::Blocks and optionally jump to a specific line.
\item[/h, --help] Shows a help message regarding the command line arguments.
\item[/na, --no-check-associations] Don't perform any file association checks (Windows only).
\item[/nd, --no-dde] Don't start a DDE server (Windows only).
\item[/ni, --no-ipc] Don't start an IPC server (Linux and Mac only).
\item[/ns, --no-splash-screen] Hides the splash screen while the application is loading.
\item[/d, --debug-log] Display the debug log of the application.
\item[--prefix=\var{str}] Sets the shared data directory prefix.
\item[/p, --personality=\var{str}, --profile=\var{str}] Sets the personality to use. You can use ask as the parameter to list all available personalities.
\item[--rebuild] Clean and build the project or workspace.
\item[--build] Build the project or workspace.
\item[--target=\var{str}] Sets target for batch build. For example \cmdline{--target='Release'}.
\item[--no-batch-window-close] Keeps the batch log window visible after the batch build is completed.
\item[--batch-build-notify] Shows a message after the batch build is completed.
\item[--safe-mode] Alle Plugins werden beim Start deaktiviert.
\item[$>$ \var{build log file}] Placed in the very last position of the command line, this may be used to redirect standard output to log file. This is not a codeblock option as such, but just a standard DOS/*nix shell output redirection.
\end{optentry}

\section{Shortcuts}

Auch wenn man eine IDE wie \codeblocks überwiegend mit der Maus bedient, erweisen sich dennoch Tastenkombinationen immer wieder als hilfreich, um die Arbeit zu vereinfachen und zu beschleunigen. In nachstehender Tabelle sind einige verfügbare Tastenkombinationen zusammengefasst.

\input{shortcuts}
